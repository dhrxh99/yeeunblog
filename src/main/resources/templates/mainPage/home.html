<head>
    <meta charset="UTF-8" />
    <title>홈</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>
<body>
<!-- 배너 -->
<header class="banner">
    <h1>Welcome to my blog</h1>
</header>

<div class="layout">
    <!-- 사이드바 -->
    <div th:replace="mainPage/sidebar :: sidebarFragment"></div>

    <!-- 메인 -->
    <main class="content">

        <!-- 정렬 + 새 글 -->
        <div class="top-bar">
            <div class="sort-options">
                <a class="sort-link" th:href="@{'/'(sort='latest')}">최신 순</a>
                <span class="divider">|</span>
                <a class="sort-link" th:href="@{'/'(sort='views')}">조회 수 많은 순</a>
            </div>
            <a class="primary-btn" th:href="@{/posting}">새 글 작성</a>
        </div>

        <div>
            <a style= "border: 1px; margin:0 0 12px;">전체 글</a>
        </div>

        <!-- 썸네일 3x2 -->
        <div class="grid" style="display:grid;grid-template-columns:repeat(3, minmax(0,1fr));gap:16px;">
            <a class="card" th:each="p : ${posts}" th:href="@{|/post/${p.id}|}"
               style="aspect-ratio:1/1;background:#fff;border:1px solid #cfd8e3;border-radius:12px;display:flex;align-items:center;justify-content:center;overflow:hidden;">
                <div style="padding:12px;text-align:center;">
                    <div th:text="${p.title}" style="font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:90%;"></div>
                    <small th:text="${#temporals.format(p.createdAt, 'yyyy-MM-dd HH:mm')}" style="color:#6b7280;"></small>
                    <div><small th:text="|조회수 ${p.viewCount}|"></small></div>
                </div>
            </a>
        </div>

    </main>
</div>
</body>
